<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <title>新しいスモウルビー(smalruby-editor 0.4.1、smalruby 0.1.11)を公開しました！ | NPO法人Rubyプログラミング少年団</title>
  <meta name="description" content="NPO法人Rubyプログラミング少年団の公式Webサイトです。">
  <meta name="keywords" content="Ruby,Smalruby,スモウルビー,ProgShouDojo,プログラミング道場,松江,まつえ,Matsue,島根,しまね,Shimane,Rubyプログラミング少年団,Rubyプロ少,プロ少,プログラミング,プログラミング体験,ProgShouTrial,ProgShou" />
  <meta property="og:image" content="http://smalruby.jp/images/logo.png" />
  <meta property="og:title" content="新しいスモウルビー(smalruby-editor 0.4.1、smalruby 0.1.11)を公開しました！ | NPO法人Rubyプログラミング少年団" />
  <meta property="og:url" content="/blog/2017/01/14/smalruby-editor-0-4-1-has-been-released.html" />
  <meta property="og:site_name" content="NPO法人Rubyプログラミング少年団" />
  <meta property="og:type" content="website" />
  <meta property="og:description" content="みなさん、こんにちは！
NPO法人Rubyプログラミング少年団の高尾です。

本法人で利用している教材「スモウルビー」の新しいバージョン(smalruby-editor 0.4.1とsmalruby 0.1.11)を公開しました。
脆弱性JVN#50197114(CVE-2017-2096)の対応を含んでいますので、すみやかに最新のスモウルビーをインストールしてください。

新しいスモウルビーは、コマンドプロンプトやターミナルで、次のコマンドを実行するとインストールできます。

gem install smalruby -v 0.1.11
gem install smalruby-editor -v 0.4.1


Windowsを使っている人は、こちらの手順を参考にして、最新のインストーラを使って、新しいスモウルビーをインストールすることもできます。

" />
  <meta content='ja_jp' property='og:locale'>
  <!--[if lte IE 8]><script src="css/ie/html5shiv.js"></script><![endif]-->
  <script src="/js/jquery.min.js"></script>
  <script src="/js/jquery.poptrox.min.js"></script>
  <script src="/js/skel.min.js"></script>
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/default.min.css">
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/layzr.js/1.4.3/layzr.min.js"></script>
  <script src="/js/init.js"></script>
  <noscript>
    <link rel="stylesheet" href="/css/skel-noscript.css" />
    <link rel="stylesheet" href="/css/style.css" />
  </noscript>
  <!--[if lte IE 8]><link rel="stylesheet" href="/css/ie/v8.css" /><![endif]-->
  <link rel="stylesheet" href="/css/main.css" />
</head>

  <body>
    <header id="header">

  <!-- Logo -->
  <h1 id="logo"><a href="/">NPO法人Rubyプログラミング少年団</a></h1>

  <!-- Nav -->
  <nav id="nav">
    <ul>
      <li><a href="/blog/">ブログ</a></li>
      <li><a href="/">トップ</a></li>
    </ul>
  </nav>

</header>


    <section class="blog">
      <div class="content container">
        <h2>
          <span>2017年01月14日</span><br />
          <a href="/blog/2017/01/14/smalruby-editor-0-4-1-has-been-released.html">新しいスモウルビー(smalruby-editor 0.4.1、smalruby 0.1.11)を公開しました！</a>
        </h2>
      <p>みなさん、こんにちは！
NPO法人Rubyプログラミング少年団の高尾です。</p>

<p>本法人で利用している教材「スモウルビー」の新しいバージョン(smalruby-editor 0.4.1とsmalruby 0.1.11)を公開しました。
脆弱性<a href="https://jvn.jp/jp/JVN50197114/">JVN#50197114</a>(<a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2017-2096">CVE-2017-2096</a>)の対応を含んでいますので、すみやかに最新のスモウルビーをインストールしてください。</p>

<p>新しいスモウルビーは、コマンドプロンプトやターミナルで、次のコマンドを実行するとインストールできます。</p>

<pre><code class="shell">gem install smalruby -v 0.1.11
gem install smalruby-editor -v 0.4.1
</code></pre>

<p>Windowsを使っている人は、<a href="https://github.com/smalruby/smalruby-installer-for-windows/wiki">こちらの手順</a>を参考にして、最新のインストーラを使って、新しいスモウルビーをインストールすることもできます。</p>

<p></p>

<p>それぞれのソフトウェアについて、変更したところを説明します。</p>

<hr>

<h2>smalruby-editor 0.4.1</h2>

<p>smalruby-editorは、<a href="https://scratch.mit.edu">Scratch</a>のように命令ブロックを組み合わせて、プログラムを作成するためのビジュアルプログラミングエディタです。命令ブロックからRubyのプログラム、また、Rubyのプログラムから命令ブロックに変換できることが特徴の一つです。</p>

<p>新しいバージョンの0.4.1では次のことを実現しました。</p>

<h3>脆弱性JVN#50197114(CVE-2017-2096)に対応</h3>

<p>smalruby-editor 0.4.0以前には、ログインID、またはプログラム名を細工することで、遠隔の第三者によって、smalruby-editorが動作するコンピュータ上で、任意のOSコマンドを実行される可能性がありました。この問題に対するJVN識別番号とCVE識別番号は、それぞれ<a href="https://jvn.jp/jp/JVN50197114/">JVN#50197114</a>と<a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2017-2096">CVE-2017-2096</a>です。</p>

<p>この問題には、smalruby-editor 0.4.1 で対応しました。</p>

<p>修正内容は <a href="https://github.com/smalruby/smalruby-editor/commit/5b5e7f2ec3808152c772197e0c4143fb507290d5">https://github.com/smalruby/smalruby-editor/commit/5b5e7f2ec3808152c772197e0c4143fb507290d5</a> から確認できます。</p>

<h3>ログインIDとプログラム名に空白を含めることができるように修正</h3>

<p>ログインIDとプログラム名に空白を含むことができるようになりました。</p>

<p>これまでは、「高尾 宏治」のようなログインIDや、「game program.rb」のようなプログラム名を指定すると、実行ボタンを押しても、プログラムを実行できませんでした。</p>

<h3>スモウルビーを起動したコンピュータのみ、スモウルビーを操作できるように修正</h3>

<p>run-smalruby.batやsmalruby-editorコマンドでスモウルビーを起動した場合に、スモウルビーを起動したコンピュータ(IPアドレスが127.0.0.1のもの)からのみ操作できるようにしました。</p>

<p>以前と同じように、別のコンピュータからもスモウルビーを操作できるようにする場合は、run-smalruby.batの一番下の行を次のように修正したり、smalruby-editorにコマンドラインオプション「--binding=0.0.0.0」を指定して起動してください。</p>

<pre><code class="dos">@start smalruby-editor --binding=0.0.0.0
</code></pre>

<h3>命令ブロック「♣キーボードの (キー) が (押された|押され続けている) のとき」を「♣キーボードの (キー) が (押された|押され続けている) とき」に変更</h3>

<p>イベントジャンルの命令ブロック「♣キーボードの (キー) が (押された|押され続けている) のとき」の表現が日本語として間違っていたため、「♣キーボードの (キー) が (押された|押され続けている) とき」に修正しました。</p>

<hr>

<h2>smalruby 0.1.11</h2>

<p>smalrubyは、<a href="https://scratch.mit.edu">Scratch</a>の命令ブロックの処理をRubyで実現したものです。例えば「10歩動かす」という命令ブロックを、「move(10)」というRubyの命令として表現できるようにします。</p>

<p>新しいバージョンの0.1.11では次のことを実現しました。</p>

<h3>Windowsでスモウルビーのプログラムの実行直後からキーボードで操作できるように修正</h3>

<p>Windowsにおいて、スモウルビーで作成したプログラムを実行後、表示されたウインドウをクリックしないとキーボードの操作を受け付けない問題を修正しました。これからは、プログラムを実行するたびにウインドウをクリックする必要はありません。</p>

<h3>キャラクターの大きさが元に戻る不具合の修正</h3>

<p>キャラクターの大きさ(Character#scale)を変更したあとで、キャラクターの向きを変えると、キャラクターの大きさが元の大きさに戻ってしまう不具合を修正しました。</p>

<h3>いくつかの命令ブロックに対応するRubyの処理を追加</h3>

<p>次の命令ブロックに対応するRubyの処理を追加しました。ただし、残念ながら、まだ命令ブロックは追加していません。</p>

<ul>
<li>音ジャンル

<ul>
<li>音量を(　)%にする: <code>Character#volume=</code></li>
</ul></li>
<li>ペンジャンル

<ul>
<li>消す: <code>Character#clear</code></li>
<li>ペンの色を(　)にする、ペンの色を(　)ずつ変える: <code>Character#pen_color=</code></li>
<li>ペンの濃さを(　)にする、ペンの濃さを(　)ずつ変える: <code>Character#pen_shade=</code></li>
</ul></li>
</ul>

<hr>

<h2>参考情報</h2>

<ul>
<li><a href="https://jvn.jp/jp/JVN50197114/">JVN#50197114</a></li>
<li><a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2017-2096">CVE-2017-2096</a></li>
<li><a href="https://github.com/smalruby/smalruby-editor/">GitHub : smalruby-editorのソースコード(設計書)</a></li>
<li><a href="https://github.com/smalruby/smalruby/">GitHub : smalrubyのソースコード(設計書)</a></li>
<li><a href="http://rubygems.org/gems/smalruby-editor">RubyGems.org : smalruby-editor</a></li>
<li><a href="http://rubygems.org/gems/smalruby">RubyGems.org : smalruby</a></li>
</ul>

<hr>

<h2>このページの更新履歴</h2>

<ul>
<li>2017-01-24: JVN#50197114の公表に伴い、JVN#50197114とCVE-2017-2096へのリンクを追加。</li>
</ul>

      </div>
    </section>

    <section class="main style3 secondary blog-menu">
      <div class="content container">
        <div class="box container small left">
          <h4>新しい<ruby>記事<rp>（</rp><rt>きじ</rt><rp>）</rp></ruby></h4>

          <ol class="default">
            <li>
              <a href="/blog/2017/02/10/cancel-progshoudojo.html">2月11日(土)のプログラミング道場、中止のお知らせ</a> <span>2017年02月10日</span>
            </li>
            <li>
              <a href="/blog/2017/01/14/smalruby-editor-0-4-1-has-been-released.html">新しいスモウルビー(smalruby-editor 0.4.1、smalruby 0.1.11)を公開しました！</a> <span>2017年01月14日</span>
            </li>
            <li>
              <a href="/blog/2017/01/14/smalruby-editor-0-4-1-has-been-released-english.html">[English] New Smalruby (smalruby-editor 0.4.1, smalruby 0.1.11) has been Released!</a> <span>2017年01月14日</span>
            </li>
            <li>
              <a href="/blog/2015/10/18/progshoutrial.html">１０月１８日（日）に一日Rubyプログラミング体験 in 松江（秋鹿公民館）を開催しました♪</a> <span>2015年10月18日</span>
            </li>
            <li>
              <a href="/blog/2015/09/27/progshoutrial.html">９月２７日（日）に一日Rubyプログラミング体験 in 松江（八束公民館）を開催しました♪</a> <span>2015年09月27日</span>
            </li>
            <li>
              <a href="/blog/2015/08/23/progshoutrial.html">８月２３日（日）に一日Rubyプログラミング体験 in 松江（法吉公民館）を開催しました♪</a> <span>2015年08月23日</span>
            </li>
            <li>
              <a href="/blog/2015/07/19/progshoutrial.html">７月１９日（日）に一日Rubyプログラミング体験 in 松江（法吉公民館）を開催しました♪</a> <span>2015年07月19日</span>
            </li>
            <li>
              <a href="/blog/2015/06/21/progshoutrial.html">６月２１日（日）に一日Rubyプログラミング体験 in 松江（城北公民館）を開催しました♪</a> <span>2015年06月21日</span>
            </li>
            <li>
              <a href="/blog/2015/05/17/trial.html">５月１７日（日）に一日Rubyプログラミング体験 in 松江（揖屋公民館）を開催しました♪</a> <span>2015年05月17日</span>
            </li>
            <li>
              <a href="/blog/2015/05/16/progshoudojo.html">５月１６日（土）に第７回プログラミング道場（島根県松江市）を開催しました♪</a> <span>2015年05月16日</span>
            </li>
          </ol>

          <h4>タグ<ruby>一覧<rp>（</rp><rt>いちらん</rt><rp>）</rp></ruby></h4>

          <ol class="default">
            <li><a href="/blog/tags/event.html">event (28)</a></li>
            <li><a href="/blog/tags/trial.html">trial (20)</a></li>
            <li><a href="/blog/tags/progshoutrial.html">ProgShouTrial (19)</a></li>
            <li><a href="/blog/tags/howto.html">howto (8)</a></li>
            <li><a href="/blog/tags/smalrubot.html">smalrubot (3)</a></li>
            <li><a href="/blog/tags/progshoudojo.html">ProgShouDojo (9)</a></li>
            <li><a href="/blog/tags/smalrubot_v3.html">smalrubot_v3 (3)</a></li>
            <li><a href="/blog/tags/coderdojo.html">coderdojo (4)</a></li>
            <li><a href="/blog/tags/release.html">release (3)</a></li>
            <li><a href="/blog/tags/smalruby-editor.html">smalruby-editor (2)</a></li>
            <li><a href="/blog/tags/smalruby.html">smalruby (2)</a></li>
            <li><a href="/blog/tags/smalrubot_v3_mini.html">smalrubot_v3_mini (2)</a></li>
            <li><a href="/blog/tags/seminar.html">seminar (1)</a></li>
          </ol>

          <h4>古い<ruby>記事<rp>（</rp><rt>きじ</rt><rp>）</rp></ruby></h4>

          <ol class="default">
            <li><a href="/blog/2017.html">2017 (3)</a></li>
            <li><a href="/blog/2015.html">2015 (17)</a></li>
            <li><a href="/blog/2014.html">2014 (12)</a></li>
            <li><a href="/blog/2013.html">2013 (8)</a></li>
            <li><a href="/blog/2010.html">2010 (1)</a></li>
          </ol>
        </div>
      </div>
    </section>

    <footer id="footer">

  <!--
      Social Icons

      Use anything from here: http://fortawesome.github.io/Font-Awesome/cheatsheet/)
    -->
  <ul class="actions">
    <li><a href="https://twitter.com/smalruby" target="_blank" class="fa solo fa-twitter"><span>Twitter</span></a></li>
    <li><a href="https://www.facebook.com/smalruby" target="_blank" class="fa solo fa-facebook"><span>Facebook</span></a></li>

  </ul>

  <!-- Menu -->
  <ul class="menu">
    <li>&copy; Ruby Programming Shounendan, 2014</li>
    <li>Design: <a href="http://html5up.net/">HTML5 UP</a></li>
  </ul>

</footer>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-49814248-1', 'smalruby.jp');
  ga('require', 'linkid', 'linkid.js');
  ga('send', 'pageview');
</script>

<script>var layzr = new Layzr();</script>

  </body>
</html>
